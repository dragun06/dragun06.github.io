<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
		<title>TP5</title>
		<style>
			body { margin: 0; }
		</style>
        <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	</head>
    <body>
        <a-scene embedded arjs>
          <a-marker preset="hiro">
            <a-entity position="0 0 -1.6" scale="0.15 0.15 0.15"
              gltf-model="./models/soldat.glb"></a-entity>
          </a-marker>
          <a-entity id="localizedEntity" material='color: pink' geometry='primitive: box' scale="10 10 10"></a-entity>
          <a-camera gps-new-camera='gpsMinDistance: 5'></a-camera>
        </a-scene>
    </body>
    <script>
        document.addEventListener(
            "DOMContentLoaded",
            function () {
                navigator.geolocation.getCurrentPosition(function (position) {
                const lat = position.coords.latitude
                const lng = position.coords.longitude
                const entity = document.getElementById("localizedEntity")

                entity.setAttribute("gps-new-entity-place", `latitude: ${lat}; longitude: ${lng}`)
                })
            },
            false
        )
    </script>
</html>
